
{% stripwhitespace %}
{% if include.id %}
  {% assign element_id = include.id | prepend: 'id="' | append: '"' %}
{% endif %}
<nav role="navigation" {{ element_id }} class="main-navigation {{ include.class }}">
  <h2 class="element-invisible">Main Menu</h2>

  <ul class="links clearfix">
    {% assign pages = site.pages | sort: 'weight' %}
    {% for entry in pages %}
      {% unless entry.title %}
        {% continue %}
      {% endunless %}

      {% comment %}
      <!-- Show only the main blog listing page link in the navigation. -->
      <!-- @TODO: Find a better way get the navigation items. -->
      {% endcomment %}
      {% if entry.title == 'Blog' and entry.url != '/blog/index.html' %}
        {% continue %}
      {% endif %}

      {% if page.url == entry.url %}
        {% assign item_is_active = 'is-active' %}
      {% endif %}

      <li class="item {{ item_is_active }}">
        <a class="link" href="{{ entry.url | replace: '/index.html', '/' }}">{{ entry.title }}</a>
      </li>
    {% endfor %}
  </ul>
</nav>
{% endstripwhitespace %}
